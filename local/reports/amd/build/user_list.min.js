define("local_reports/user_list",["jquery","core/ajax","core/str","core/url","https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"],(function($,ajax,str,moodleurl){var index={dom:{main:null},variables:{dataTableReference:null},actions:{getString:function(id){index.variables.id=id,str.get_strings([]).done((function(){index.init()}))}},init:function(){index.variables.dataTableReference=$("#userTable").DataTable({responsive:!0,serverSide:!0,processing:!0,pageLength:10,order:[[0,"DESC"]],ajax:function(data,callback,settings){var courseid=index.variables.id;console.log("Course ID:",courseid),ajax.call([{methodname:"local_reports_get_users",args:{courseid:courseid}}])[0].done((function(response){console.log("Response from AJAX:",response),"function"==typeof callback?callback({data:response.users||[]}):console.error("Callback is not a function!",callback)})).fail((function(jqXHR,textStatus,errorThrown){console.error("AJAX Error:",textStatus,errorThrown,jqXHR.responseText),"function"==typeof callback&&callback({data:[]})}))},columns:[{data:"id",visible:!1},{data:"firstname",render:function(data,type,row){return data+" "+row.lastname}},{data:"email"},{data:"Coursestatus"},{data:"startdate"},{data:"completiondate"},{data:"grade"},{data:"id",orderable:!1,searchable:!1,render:function(data,type,row){return`\n                                <i class="fa fa-eye view" data-value="${data}" title="view" aria-hidden="true"></i> \n                                \n                            `}}]}),$("#userTable tbody").on("click",".view",(function(){var userId=$(this).data("value");window.location=moodleurl.relativeUrl("/local/reports/user_report.php?id="+userId)}))}};return{init:index.actions.getString}}));

//# sourceMappingURL=user_list.min.js.map